(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{310:function(t,e,a){},441:function(t,e,a){"use strict";a.r(e);var s=a(49),n=a(50),i=a(52),r=a(51),m=a(0),o=a.n(m),c=a(55),l=(a(310),a(6)),u=a(449),d=a(451),f=a(303),h=(a(17),a(98)),v=function(t){return o.a.createElement("div",{className:"frmHead"},o.a.createElement("span",null,t.name))},I=function(t){Object(i.a)(a,t);var e=Object(r.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).logKey=function(t){"Enter"===t.code&&n.submitItem()},n.state={loading:!0,form:{fields:[]},activeItemIndex:0,submitted:!1},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var t=this;document.getElementById("root");document.addEventListener("keypress",(function(e){return t.logKey(e)})),c.a.get("forms/live/"+this.props.match.params.id).then((function(e){t.setState({loading:!1}),e.data.status?t.setState({form:e.data.result}):u.a.error("Invalid form")})).catch((function(e){t.setState({loading:!1}),u.a.error("Invalid form")}))}},{key:"submitItem",value:function(){var t=this;this.state.form.fields.length-1>this.state.activeItemIndex?this.setState({activeItemIndex:this.state.activeItemIndex+1}):(u.a.loading("submitting form...",.2),c.a.post("forms/submit",{formId:this.state.form._id,fields:this.state.form.fields}).then((function(e){e.data.status?(u.a.success("FORM SUBMITTED",.7),t.setState({submitted:!0})):u.a.error(e.data.message,.7)})).catch((function(t){u.a.error("Error occured while submitting form",.7)})))}},{key:"mapItm",value:function(t){var e=this.state,a=e.activeItemIndex,s=e.form;s.fields[a].fields[0].response=t,this.setState({form:s})}},{key:"render",value:function(){var t=this;return o.a.createElement(o.a.Fragment,null,!0===this.state.submitted?o.a.createElement(d.a,{status:"success",title:"Your Response Submitted!",subTitle:this.state.form.name}):o.a.createElement(f.a,{spinning:this.state.loading,tip:"Loading Form ... "},o.a.createElement(v,{name:this.state.form.name}),this.state.form.fields.length>0?o.a.createElement(h.a,{takeiput:function(e){t.mapItm(e)},activeFieldView:this.state.form.fields[this.state.activeItemIndex],activeKey:this.state.activeItemIndex}):null,o.a.createElement("div",{className:"keyGuide"},this.state.activeItemIndex===this.state.form.fields.length-1?o.a.createElement("span",null,"Press Enter to submit"):o.a.createElement("span",null,"Press Enter to continue"))))}}]),a}(m.Component);e.default=Object(l.h)(I)}}]);
//# sourceMappingURL=16.b466e0f6.chunk.js.map