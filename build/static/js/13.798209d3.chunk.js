(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[13],{100:function(t,e,n){"use strict";var o=n(0),r=n.n(o);function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){c(t,e,n[e])}))}return t}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?d(t):e}var v={display:"inline-block",borderRadius:"50%",border:"5px double white",width:30,height:30},b={empty:p({},v,{backgroundColor:"#ccc"}),full:p({},v,{backgroundColor:"black"}),placeholder:p({},v,{backgroundColor:"red"})},g=function(t){return r.a.isValidElement(t)?t:"object"===a(t)&&null!==t?r.a.createElement("span",{style:t}):"[object String]"===Object.prototype.toString.call(t)?r.a.createElement("span",{className:t}):void 0},k=function(t){function e(){return i(this,e),m(this,h(e).apply(this,arguments))}return f(e,t),s(e,[{key:"render",value:function(){var t,e=this.props,n=e.index,o=e.inactiveIcon,a=e.activeIcon,i=e.percent,l=e.direction,s=e.readonly,u=e.onClick,p=e.onMouseMove,f=g(o),h=i<100?{}:{visibility:"hidden"},y=g(a),d=(c(t={display:"inline-block",position:"absolute",overflow:"hidden",top:0},"rtl"===l?"right":"left",0),c(t,"width","".concat(i,"%")),t),m={cursor:s?"inherit":"pointer",display:"inline-block",position:"relative"};function v(t){p&&p(n,t)}function b(t){u&&(t.preventDefault(),u(n,t))}return r.a.createElement("span",{style:m,onClick:b,onMouseMove:v,onTouchMove:v,onTouchEnd:b},r.a.createElement("span",{style:h},f),r.a.createElement("span",{style:d},y))}}]),e}(r.a.PureComponent),S=function(t){function e(t){var n;return i(this,e),(n=m(this,h(e).call(this,t))).state={displayValue:n.props.value,interacting:!1},n.onMouseLeave=n.onMouseLeave.bind(d(d(n))),n.symbolMouseMove=n.symbolMouseMove.bind(d(d(n))),n.symbolClick=n.symbolClick.bind(d(d(n))),n}return f(e,t),s(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this.props.value!==t.value;this.setState((function(n){return{displayValue:e?t.value:n.displayValue}}))}},{key:"componentDidUpdate",value:function(t,e){if(t.value===this.props.value)return e.interacting&&!this.state.interacting?this.props.onHover():void(this.state.interacting&&this.props.onHover(this.state.displayValue))}},{key:"symbolClick",value:function(t,e){var n=this.calculateDisplayValue(t,e);this.props.onClick(n,e)}},{key:"symbolMouseMove",value:function(t,e){var n=this.calculateDisplayValue(t,e);this.setState({interacting:!this.props.readonly,displayValue:n})}},{key:"onMouseLeave",value:function(){this.setState({displayValue:this.props.value,interacting:!1})}},{key:"calculateDisplayValue",value:function(t,e){var n=this.calculateHoverPercentage(e),o=Math.ceil(n%1*this.props.fractions)/this.props.fractions,r=Math.pow(10,3),a=t+(Math.floor(n)+Math.floor(o*r)/r);return a>0?a>this.props.totalSymbols?this.props.totalSymbols:a:1/this.props.fractions}},{key:"calculateHoverPercentage",value:function(t){var e=t.nativeEvent.type.indexOf("touch")>-1?t.nativeEvent.type.indexOf("touchend")>-1?t.changedTouches[0].clientX:t.touches[0].clientX:t.clientX,n=t.target.getBoundingClientRect(),o="rtl"===this.props.direction?n.right-e:e-n.left;return o<0?0:o/n.width}},{key:"render",value:function(){var t,e=this.props,n=e.readonly,o=e.quiet,a=e.totalSymbols,i=e.value,l=e.placeholderValue,s=e.direction,c=e.emptySymbol,f=e.fullSymbol,h=e.placeholderSymbol,y=e.className,d=e.id,m=e.style,v=e.tabIndex,b=this.state,g=b.displayValue,S=b.interacting,O=[],E=[].concat(c),I=[].concat(f),M=[].concat(h),w=0!==l&&0===i&&!S;t=w?l:o?i:g;for(var j=Math.floor(t),C=0;C<a;C++){var P=void 0;P=C-j<0?100:C-j===0?100*(t-C):0,O.push(r.a.createElement(k,u({key:C,index:C,readonly:n,inactiveIcon:E[C%E.length],activeIcon:w?M[C%I.length]:I[C%I.length],percent:P,direction:s},!n&&{onClick:this.symbolClick,onMouseMove:this.symbolMouseMove,onTouchMove:this.symbolMouseMove,onTouchEnd:this.symbolClick})))}return r.a.createElement("span",u({id:d,style:p({},m,{display:"inline-block",direction:s}),className:y,tabIndex:v,"aria-label":this.props["aria-label"]},!n&&{onMouseLeave:this.onMouseLeave}),O)}}]),e}(r.a.PureComponent);function O(){}O._name="react_rating_noop";var E=function(t){function e(t){var n;return i(this,e),(n=m(this,h(e).call(this,t))).state={value:t.initialRating},n.handleClick=n.handleClick.bind(d(d(n))),n.handleHover=n.handleHover.bind(d(d(n))),n}return f(e,t),s(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setState({value:t.initialRating})}},{key:"handleClick",value:function(t,e){var n=this,o=this.translateDisplayValueToValue(t);this.props.onClick(o),this.state.value!==o&&this.setState({value:o},(function(){return n.props.onChange(n.state.value)}))}},{key:"handleHover",value:function(t){var e=void 0===t?t:this.translateDisplayValueToValue(t);this.props.onHover(e)}},{key:"translateDisplayValueToValue",value:function(t){var e=t*this.props.step+this.props.start;return e===this.props.start?e+1/this.props.fractions:e}},{key:"tranlateValueToDisplayValue",value:function(t){return void 0===t?0:(t-this.props.start)/this.props.step}},{key:"render",value:function(){var t=this.props,e=t.step,n=t.emptySymbol,o=t.fullSymbol,a=t.placeholderSymbol,i=t.readonly,l=t.quiet,s=t.fractions,c=t.direction,u=t.start,p=t.stop,f=t.id,h=t.className,y=t.style,d=t.tabIndex;return r.a.createElement(S,{id:f,style:y,className:h,tabIndex:d,"aria-label":this.props["aria-label"],totalSymbols:function(t,e,n){return Math.floor((e-t)/n)}(u,p,e),value:this.tranlateValueToDisplayValue(this.state.value),placeholderValue:this.tranlateValueToDisplayValue(this.props.placeholderRating),readonly:i,quiet:l,fractions:s,direction:c,emptySymbol:n,fullSymbol:o,placeholderSymbol:a,onClick:this.handleClick,onHover:this.handleHover})}}]),e}(r.a.PureComponent);E.defaultProps={start:0,stop:5,step:1,readonly:!1,quiet:!1,fractions:1,direction:"ltr",onHover:O,onClick:O,onChange:O,emptySymbol:b.empty,fullSymbol:b.full,placeholderSymbol:b.placeholder},e.a=E},280:function(t,e,n){},440:function(t,e,n){"use strict";n.r(e);var o=n(49),r=n(50),a=n(52),i=n(51),l=n(0),s=n.n(l),c=n(55),u=(n(280),n(6)),p=n(449),f=n(303),h=(n(17),n(98)),y=function(t){return s.a.createElement("div",{className:"frmHead"},s.a.createElement("span",null,t.name))},d=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).logKey=function(t){"Enter"===t.code&&r.submitItem()},r.state={loading:!0,form:{fields:[]},activeItemIndex:0},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;document.getElementById("root");document.addEventListener("keypress",(function(e){return t.logKey(e)})),c.a.get("forms/live/"+this.props.match.params.id).then((function(e){t.setState({loading:!1}),e.data.status?t.setState({form:e.data.result}):p.a.error("Invalid form")})).catch((function(e){t.setState({loading:!1}),p.a.error("Invalid form")}))}},{key:"submitItem",value:function(){var t=this;this.state.form.fields.length-1>this.state.activeItemIndex?this.setState({activeItemIndex:this.state.activeItemIndex+1}):(p.a.loading("submitting form...",.2),c.a.post("forms/submit",{formId:this.state.form._id,fields:this.state.form.fields}).then((function(e){e.data.status?(p.a.success("FORM SUBMITTED",.7),t.props.history.push("/")):p.a.error(e.data.message,.7)})).catch((function(t){p.a.error("Error occured while submitting form",.7)})))}},{key:"mapItm",value:function(t){var e=this.state,n=e.activeItemIndex,o=e.form;o.fields[n].fields[0].response=t,this.setState({form:o})}},{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(f.a,{spinning:this.state.loading,tip:"Loading Form ...\r "},s.a.createElement(y,{name:this.state.form.name}),this.state.form.fields.length>0?s.a.createElement(h.a,{takeiput:function(e){t.mapItm(e)},activeFieldView:this.state.form.fields[this.state.activeItemIndex],activeKey:this.state.activeItemIndex}):null,s.a.createElement("div",{className:"keyGuide"},this.state.activeItemIndex===this.state.form.fields.length-1?s.a.createElement("span",null,"Press Enter to submit"):s.a.createElement("span",null,"Press Enter to continue"))))}}]),n}(l.Component);e.default=Object(u.h)(d)},49:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return o}))},50:function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.d(e,"a",(function(){return r}))},51:function(t,e,n){"use strict";function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function a(t){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return s}));var i=n(57);function l(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?Object(i.a)(t):e}function s(t){return function(){var e,n=o(t);if(r()){var a=o(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return l(this,e)}}},52:function(t,e,n){"use strict";function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}n.d(e,"a",(function(){return r}))},57:function(t,e,n){"use strict";function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return o}))}}]);
//# sourceMappingURL=13.798209d3.chunk.js.map